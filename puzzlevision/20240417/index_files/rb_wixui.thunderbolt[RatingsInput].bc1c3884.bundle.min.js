!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("react")):"function"==typeof define&&define.amd?define("rb_wixui.thunderbolt[RatingsInput]",["react"],t):"object"==typeof exports?exports["rb_wixui.thunderbolt[RatingsInput]"]=t(require("react")):e["rb_wixui.thunderbolt[RatingsInput]"]=t(e.React)}("undefined"!=typeof self?self:this,(function(e){return function(){var t={14565:function(e,t,r){var a=r(82016);e.exports=a.create("RatingsInputcomponent2840320257",{classes:{root:"RatingsInputcomponent2840320257__root",icons:"RatingsInputcomponent2840320257__icons",labelsContainer:"RatingsInputcomponent2840320257__labelsContainer",label:"RatingsInputcomponent2840320257__label",title:"RatingsInputcomponent2840320257__title",a11yRoot:"RatingsInputcomponent2840320257__a11yRoot",ratingWrapper:"RatingsInputcomponent2840320257__ratingWrapper",limitWidth:"RatingsInputcomponent2840320257__limitWidth",fullWidth:"RatingsInputcomponent2840320257__fullWidth",a11yLabel:"RatingsInputcomponent2840320257__a11yLabel"},vars:{display:"--display"},stVars:{labelFont:"var(--labelFont, var(--font_8))",labelFontColor:"rgba(var(--labelFontColor, var(--color_15)), var(--alpha-labelFontColor, 1))",errorLabelFontColor:"rgba(var(--errorLabelFontColor, var(--color_17)), var(--alpha-errorLabelFontColor, 1))",inputFlexDirection:"var(--inputFlexDirection, column)",inputTextAlign:"var(--inputTextAlign, center)",inputAlignItems:"var(--inputAlignItems, center)",iconsOrder:"var(--iconsOrder, 2)",iconsMinWidth:"var(--iconsMinWidth, auto)",iconsMarginTop:"var(--iconsMarginTop, 0)",iconsMarginBottom:"var(--iconsMarginBottom, 0)",iconsMarginLeft:"var(--iconsMarginLeft, 0)",iconsMarginRight:"var(--iconsMarginRight, 0)",labelsContainerAlignItems:"var(--labelsContainerAlignItems, flex-end)",iconPaddingLeft:"var(--iconPaddingLeft, 0)",iconPaddingRight:"var(--iconPaddingRight, 0)",direction:"var(--direction, ltr)",a11yLabelFont:"var(--fntlbl, var(--font_8))",a11yLabelColor:"rgba(var(--txtlbl, var(--color_15)), var(--alpha-txtlbl, 1))",a11yLabelAsteriskColor:"rgba(var(--txtlblrq, var(--color_15)), var(--alpha-txtlblrq, 1))",a11yFlexDirection:"var(--a11yFlexDirection, column)",a11yLabelMargin:"var(--a11yLabelMargin, 0)",a11yLabelPadding:"var(--a11yLabelPadding, 0)",a11yLabelAlign:"var(--a11yLabelAlign, center)"},keyframes:{},layers:{}},"",-1,e.id)},6009:function(e,t,r){var a=r(82016);e.exports=a.create("RatingsInputItemcomponent551530387",{classes:{root:"RatingsInputItemcomponent551530387__root",hiddenInput:"RatingsInputItemcomponent551530387__hiddenInput",icon:"RatingsInputItemcomponent551530387__icon"},vars:{"force-state-metadata":"--force-state-metadata"},stVars:{filledShapeColor:"rgba(var(--filledShapeColor, var(--color_5)), var(--alpha-filledShapeColor, 1))",emptyShapeColor:"rgba(var(--emptyShapeColor, var(--color_15)), var(--alpha-emptyShapeColor, 1))",shapeBorderColor:"rgba(var(--shapeBorderColor, var(--color_32)), var(--alpha-shapeBorderColor, 1))",shapeBorderWidth:"var(--shapeBorderWidth, 3)",labelFont:"var(--labelFont, var(--font_8))",labelFontColor:"rgba(var(--labelFontColor, var(--color_15)), var(--alpha-labelFontColor, 1))",errorFilledShapeColor:"rgba(var(--errorFilledShapeColor, var(--color_7)), var(--alpha-errorFilledShapeColor, 1))",errorShapeBorderColor:"rgba(var(--errorShapeBorderColor, var(--color_37)), var(--alpha-errorShapeBorderColor, 1))",errorShapeBorderWidth:"var(--errorShapeBorderWidth, 7)",focusEmptyShapeColor:"rgba(var(--focusEmptyShapeColor, 176,171,186), var(--alpha-focusEmptyShapeColor, 1))",focusShapeBorderColor:"rgba(var(--focusShapeBorderColor, 176,171,186), var(--alpha-focusShapeBorderColor, 1))",focusShapeBorderWidth:"var(--focusShapeBorderWidth, 1)",iconSize:"var(--iconSize, auto)"},keyframes:{},layers:{}},"",-1,e.id)},82016:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createRenderable=t.create=void 0;t.create=function(e,t,r,a,n,o){const l={namespace:e,classes:t.classes,keyframes:t.keyframes,layers:t.layers,vars:t.vars,stVars:t.stVars,cssStates:function(e){const t=[];for(const r in e){const a=s(r,e[r]);a&&t.push(a)}return t.join(" ")},style:i,st:i,$id:n,$depth:a,$css:r};function s(t,r){if(!1===r||null==r||r!=r)return"";if(!0===r)return function(t){return`${e}--${t}`}(t);return function(t,r){return`${e}---${t}-${r.length}-${r.replace(/\s/gm,"_")}`}(t,r.toString())}function i(){const e=[];for(let t=0;t<arguments.length;t++){const r=arguments[t];if(r)if("string"==typeof r)e[e.length]=r;else if(1===t)for(const t in r){const a=s(t,r[t]);a&&(e[e.length]=a)}}return e.join(" ")}return o&&o.register(l),l},t.createRenderable=function(e,t,r){return{$css:e,$depth:t,$id:r,$theme:!0}}},5329:function(t){"use strict";t.exports=e},448:function(e){function t(){return e.exports=t=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},e.exports.__esModule=!0,e.exports.default=e.exports,t.apply(this,arguments)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports}},r={};function a(e){var n=r[e];if(void 0!==n)return n.exports;var o=r[e]={id:e,exports:{}};return t[e](o,o.exports,a),o.exports}a.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(t,{a:t}),t},a.d=function(e,t){for(var r in t)a.o(t,r)&&!a.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var n={};return function(){"use strict";a.r(n),a.d(n,{components:function(){return R}});var e=a(448),t=a.n(e),r=a(5329);function o(e){var t,r,a="";if("string"==typeof e||"number"==typeof e)a+=e;else if("object"==typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(r=o(e[t]))&&(a&&(a+=" "),a+=r);else for(t in e)e[t]&&(a&&(a+=" "),a+=t);return a}var l=function(){for(var e,t,r=0,a="";r<arguments.length;)(e=arguments[r++])&&(t=o(e))&&(a&&(a+=" "),a+=t);return a};const s="wixui-",i=(e,...t)=>{const r=[];return e&&r.push(`${s}${e}`),t.forEach((e=>{e&&(r.push(`${s}${e}`),r.push(e))})),r.join(" ")};var c={root:"ratings-input",label:"ratings-input__label"},u=a(6009);const d="ratingsIcon",p="a11yLabel",v="rating-input-title",f=e=>{const{svg:t,className:a,onClick:n}=e;return r.createElement("span",{className:a,onClick:n,"data-testid":d},t)},h=(e,t)=>{const{value:a,name:n,required:o,className:l,ariaLabel:s,onMouseEnter:i,onMouseLeave:c,hovered:d,ratingInputValue:p,svgString:v,onChange:h,error:m}=e,g=r.useRef(null);r.useImperativeHandle(t,(()=>({focus(){var e;null==(e=g.current)||e.focus()},blur(){var e;null==(e=g.current)||e.blur()},setCustomValidity:e=>{var t;"message"===e.type&&(null==(t=g.current)||t.setCustomValidity(e.message))}})));const[b,y]=(0,r.useState)(!1),[C,I]=(0,r.useState)(!1),[_,S]=(0,r.useState)(!1),R=a<=(d||p||0);const x=(e=>r.createElement("div",{dangerouslySetInnerHTML:{__html:e||""}}))(v);return r.createElement("label",{className:(0,u.st)(u.classes.root,{checked:R,focused:b,"focus-visible":C,error:m},l),role:"radio","aria-checked":R,"aria-label":s,onMouseEnter:i,onMouseLeave:c,onClick:e=>{e.preventDefault()}},r.createElement("input",{type:"radio",className:u.classes.hiddenInput,required:o,onFocus:()=>{y(!0),I(!_)},onBlur:()=>{y(!1),I(!1),S(!1)},checked:p===a,value:a,name:n,onKeyDown:()=>{var e;I(!0),null==(e=g.current)||e.click()},ref:g,onChange:e=>{null==h||h(e)}}),r.createElement(f,{svg:x,className:(0,u.st)(u.classes.icon,{checked:R}),onClick:e=>{var t,r;S(!0),null==(t=g.current)||t.click(),null==(r=g.current)||r.focus(),e.preventDefault()}}))};var m=r.forwardRef(h),g=a(14565);const b=[1,2,3,4,5],y=r.memo((e=>{let{showTitle:t,showLabels:a,text:n,labelsRefs:o,labels:l,title:s}=e;return r.createElement("span",{className:g.classes.labelsContainer},(t||a)&&r.createElement("span",{className:g.classes.title,"data-hook":v},n),a&&r.createElement(r.Fragment,null,b.map(((e,t)=>r.createElement("span",{key:e,className:(0,g.st)(g.classes.label,i(c.label)),ref:e=>o.current[t]=e},l[e])))),t&&r.createElement("span",{className:g.classes.label},s))})),C=r.memo((e=>{let{value:t,id:a,hoveredItemIndex:n,_onChange:o,required:l,labels:s,onIconHover:i,onIconBlur:c,svgString:u,itemRefs:d,shouldDisplayError:p}=e;return r.createElement("span",{className:g.classes.icons,"aria-label":t?t+" out of 5":void 0},b.map((e=>r.createElement(m,{key:e,className:g.classes.item,name:a,value:e,ratingInputValue:t,hovered:n,onChange:o,required:l,ariaLabel:t?void 0:s[e],onMouseEnter:()=>i({value:e,label:s[e]}),onMouseLeave:c,svgString:u,ref:t=>{d.current&&(d.current[e-1]=t)},error:p}))))})),I=(e,a)=>{const{id:n,className:o,customClassNames:s=[],onChange:u=(()=>{}),onRatingChange:d=(()=>{}),onClick:v=(()=>{}),onDblClick:f=(()=>{}),onMouseEnter:h=(()=>{}),onMouseLeave:m=(()=>{}),iconMouseIn:b=(()=>{}),onFocus:I=(()=>{}),onBlur:_=(()=>{}),labels:S,showLabels:R,showTitle:x,title:L="",svgString:E,labelPosition:M,a11yLabelPosition:w,required:F,value:B,isDisabled:k,shouldShowValidityIndication:W,isValid:P,reCalculateIconsSizeDeps:V=[],overrideIconsStyle:$,validateValueAndShowIndication:j=(()=>{}),showA11yLabel:N,shapeSize:A,rootMinWidth:D,compWidth:O}=e,[q,T]=r.useState(void 0),[H,z]=r.useState({}),[U,K]=r.useState(0);r.useLayoutEffect((()=>{let e={};if("side"===M){const t=(e=>e?Math.max(...e.map((e=>{if(!e)return 0;const t=window.getComputedStyle(e),r=e.style.width;e.style.width="auto";const a=t?parseInt(t.marginLeft,10)+e.offsetWidth+parseInt(t.marginRight,10):0;return e.style.width=r,a}))):0)(Z.current);e=t&&(null==$?void 0:$(t))||{}}z(e)}),V);const Z=r.useRef([]),G=r.useRef(null),J=r.useRef([]);r.useLayoutEffect((()=>{const e=G.current;if(D&&e){const t=e.style.width;e.style.width="min-content";const{offsetWidth:r}=e;e.style.width=t,z({minWidth:D+r})}}),[D,L]),((e,t,a,n,o,l,s)=>{r.useLayoutEffect((()=>{if(e.current&&"side"===n){const{clientHeight:r}=e.current;if(r>=o&&t)a(0);else if(r<o){const e=(o-r)/2;t!==e&&a(e)}}}),[t,n,o,s,l,e,a])})(G,U,K,w,A,L,O),r.useImperativeHandle(a,(()=>{const e=(B||1)-1;return{focus(){var t;null==(t=J.current[e])||t.focus()},blur(){var t;null==(t=J.current[e])||t.blur()},setCustomValidity:t=>{var r;null==(r=J.current[e])||r.setCustomValidity(t)}}}));const Q=()=>{k||T(void 0)},X=e=>{k||(T(e.value),b({...e,type:"iconMouseIn"}))},Y=r.useCallback((()=>q&&R?S[q]:B&&R?S[B]:x&&L||""),[q,S,B,R,x,L]),ee=W&&!q&&!P,te={labelPosition:M,required:F,disabled:k,error:ee},re=e=>{const t=parseInt(e.target.value,10);k||B===t||(d(e),j(),null==u||u(e))},ae=N?{"aria-labelledby":n+"_label"}:{},ne="top"===M?"marginBottom":"marginTop",oe="side"===w&&U?{style:{[ne]:U+"px"}}:{};return r.createElement("div",t()({},(e=>Object.entries(e).reduce(((e,[t,r])=>(t.includes("data-")&&(e[t]=r),e)),{}))(e),{className:(0,g.st)(g.classes.root,te,l({[g.classes.a11yRoot]:N}),o,i(c.root,...s)),role:"radiogroup",id:n,onClick:v,onDoubleClick:f,onMouseEnter:h,onMouseLeave:m,onFocus:I,onBlur:_,style:H},ae),N?r.createElement(r.Fragment,null,r.createElement("div",t()({className:g.classes.a11yLabel,id:n+"_label",ref:G,"data-testid":p},oe),L),r.createElement("div",{className:l(g.classes.ratingWrapper,{[g.classes.limitWidth]:"side"===w,[g.classes.fullWidth]:"top"===w})},R&&r.createElement(y,{showTitle:x,showLabels:R,text:Y(),labelsRefs:Z,labels:S,title:L}),r.createElement(C,{value:B,id:n,hoveredItemIndex:q,_onChange:re,required:F,labels:S,onIconHover:X,onIconBlur:Q,svgString:E,itemRefs:J,shouldDisplayError:ee}))):r.createElement(r.Fragment,null,r.createElement(y,{showTitle:x,showLabels:R,text:Y(),labelsRefs:Z,labels:S,title:L}),r.createElement(C,{value:B,id:n,hoveredItemIndex:q,_onChange:re,required:F,labels:S,onIconHover:X,onIconBlur:Q,svgString:E,itemRefs:J,shouldDisplayError:ee})))};const _=e=>e.replace(/([A-Z])/g,(e=>`-${e.toLowerCase()}`));var S;const R={RatingsInput:{component:r.forwardRef(I),controller:(S=e=>{let{mapperProps:t,controllerUtils:r}=e;const{updateProps:a}=r,{setValidityIndication:n}=(e=>({onValueChange:t=>{e({value:t})},setValidityIndication:t=>{e({shouldShowValidityIndication:t})}}))(a);return{...t,onRatingChange:e=>{a({value:parseInt(e.target.value,10)||null})},setValidityIndication:n}},{useComponentProps:(e,t,r)=>{const a=(e=>({...e,updateStyles:t=>{const r=Object.entries(t).reduce(((e,[t,r])=>{return{...e,[(a=t,a.startsWith("--")?t:_(t))]:void 0===r?null:r};var a}),{});e.updateStyles(r)}}))(r);return S({mapperProps:e,stateValues:t,controllerUtils:a})}})}}}(),n}()}));
//# sourceMappingURL=https://static.parastorage.com/services/editor-elements-library/dist/thunderbolt/rb_wixui.thunderbolt[RatingsInput].bc1c3884.bundle.min.js.map